{
	"info": {
		"_postman_id": "azure-ai-foundry-file-search",
		"name": "Azure AI Foundry File Search",
		"description": "Postman collection for testing Azure AI Foundry File Search API. This collection includes endpoints for sending messages to AI agents with file search capabilities and support for conversation continuity using threadId and agentId.",
		"schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
	},
	"item": [
		{
			"name": "Agent",
			"item": [
				{
					"name": "Send Message (New Conversation)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"What products do you have?\",\n  \"context\": null\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/agent/message",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"agent",
								"message"
							]
						},
						"description": "Send a message to the Global agent with file search capabilities and start a new conversation. A new agent will be created and used for this conversation. The agent will be deleted after the response is sent."
					},
					"response": [
						{
							"name": "Success Response",
							"originalRequest": {
								"method": "POST",
								"header": [
									{
										"key": "Content-Type",
										"value": "application/json"
									}
								],
								"body": {
									"mode": "raw",
									"raw": "{\n  \"message\": \"What products do you have?\",\n  \"context\": null\n}",
									"options": {
										"raw": {
											"language": "json"
										}
									}
								},
								"url": {
									"raw": "{{baseUrl}}/api/agent/message",
									"host": [
										"{{baseUrl}}"
									],
									"path": [
										"api",
										"agent",
										"message"
									]
								}
							},
							"status": "OK",
							"code": 200,
							"_postman_previewlanguage": "json",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"cookie": [],
							"body": "{\n  \"agentId\": \"asst_xyz789\",\n  \"createdAt\": \"2025-11-13T14:00:00Z\",\n  \"messages\": [\n    {\n      \"authorName\": \"asst_xyz789\",\n      \"createdAt\": \"2025-11-13T14:00:00Z\",\n      \"role\": \"Assistant\",\n      \"messageId\": \"run_abc123\",\n      \"content\": \"We have various products available...\"\n    }\n  ],\n  \"usage\": {\n    \"inputTokenCount\": 56,\n    \"outputTokenCount\": 120,\n    \"totalTokenCount\": 176\n  }\n}"
						}
					]
				},
				{
					"name": "Send Message (With Thread)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"Tell me more about the first product\",\n  \"context\": {\n    \"threadId\": \"thread_abc123\",\n    \"agentId\": null\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/agent/message",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"agent",
								"message"
							]
						},
						"description": "Send a message to continue an existing conversation using a threadId. The thread will be retrieved and used to maintain conversation context. A new agent will be created for this request."
					},
					"response": []
				},
				{
					"name": "Send Message (With Agent and Thread)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"What is the price of that product?\",\n  \"context\": {\n    \"threadId\": \"thread_abc123\",\n    \"agentId\": \"agent_xyz789\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/agent/message",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"agent",
								"message"
							]
						},
						"description": "Send a message using both an existing agent and thread. The existing agent will be retrieved and reused, and the thread will be used to maintain conversation context. The agent will NOT be deleted after the response."
					},
					"response": []
				},
				{
					"name": "Send Message (With Agent Only)",
					"request": {
						"method": "POST",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json",
								"type": "text"
							}
						],
						"body": {
							"mode": "raw",
							"raw": "{\n  \"message\": \"Search for products under $50\",\n  \"context\": {\n    \"threadId\": null,\n    \"agentId\": \"agent_xyz789\"\n  }\n}",
							"options": {
								"raw": {
									"language": "json"
								}
							}
						},
						"url": {
							"raw": "{{baseUrl}}/api/agent/message",
							"host": [
								"{{baseUrl}}"
							],
							"path": [
								"api",
								"agent",
								"message"
							]
						},
						"description": "Send a message using an existing agent but start a new conversation thread. The existing agent will be retrieved and reused. The agent will NOT be deleted after the response."
					},
					"response": []
				}
			],
			"description": "Agent conversation endpoints. Use these endpoints to send messages to AI agents with file search capabilities and support for conversation continuity."
		},
		{
			"name": "Vector Store",
			"item": [
			{
				"name": "Init All Vector Stores",
				"request": {
					"method": "POST",
					"header": [
						{
							"key": "Content-Type",
							"value": "application/json",
							"type": "text"
						}
					],
					"url": {
						"raw": "{{baseUrl}}/api/agent/init-all-vector-stores",
						"host": [
							"{{baseUrl}}"
						],
						"path": [
							"api",
							"agent",
							"init-all-vector-stores"
						]
					},
					"description": "Initializes all vector stores that have Initialize set to true in the configuration. This will upload the configured files and create vector stores for each enabled store. This should be called once before using the file search capabilities."
				},
				"response": [
					{
						"name": "Success Response",
						"originalRequest": {
							"method": "POST",
							"header": [
								{
									"key": "Content-Type",
									"value": "application/json"
								}
							],
							"url": {
								"raw": "{{baseUrl}}/api/agent/init-all-vector-stores",
								"host": [
									"{{baseUrl}}"
								],
								"path": [
									"api",
									"agent",
									"init-all-vector-stores"
								]
							}
						},
						"status": "OK",
						"code": 200,
						"_postman_previewlanguage": "json",
						"header": [
							{
								"key": "Content-Type",
								"value": "application/json"
							}
						],
						"cookie": [],
						"body": "{\n  \"initializedStores\": [\n    {\n      \"name\": \"ProductsVectorStore\",\n      \"fileId\": \"file_abc123\",\n      \"vectorStoreId\": \"vs_xyz789\"\n    }\n  ]\n}"
					}
				]
			}
			],
			"description": "Vector store management endpoints for file search functionality. Use the Initialize flag in appsettings.json to control which stores are initialized."
		}
	],
	"variable": [
		{
			"key": "baseUrl",
			"value": "http://localhost:5181",
			"type": "string",
			"description": "Base URL for the API. Default is http://localhost:5181"
		}
	]
}

